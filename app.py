from flask import Flask, render_template,request
import pickle
import flask

app = Flask(__name__)

model_file = open('model.pkl', 'rb')
model = pickle.load(model_file)

@app.route('/')
def index():
    return render_template('home.html')

@app.route('/predict', methods=['POST'])
def predict():
    genres = request.form['Genres']
    rating = request.form['Rating']
    
    genres , rating = [x for x in request.form.values()]
    

    list_genre = ['crime|drama|thriller',
    'action|adventure|comedy',
    'children|comedy',
    'comedy',
    'horror|sci-fi|thriller',
    'comedy|romance',
    'adventure|animation|children|comedy|musical',
    'comedy|drama|romance',
    'drama',
    'crime|drama|romance',
    'documentary',
    'action|crime|drama|thriller',
    'adventure|comedy|musical',
    'drama|thriller',
    'comedy|war',
    'action|adventure',
    'crime|drama',
    'comedy|drama|fantasy|romance',
    'adventure|children',
    'comedy|drama|horror',
    'comedy|sci-fi',
    'action|drama|sci-fi|thriller',
    'comedy|drama',
    'horror|sci-fi',
    'crime|drama|mystery|romance|thriller',
    'horror',
    'action|adventure|crime|drama|thriller',
    'children|comedy|fantasy',
    'adventure|comedy',
    'drama|war',
    'comedy|drama|war',
    'action|thriller',
    'adventure',
    'drama|romance',
    'musical|romance',
    'comedy|thriller',
    'comedy|crime|drama|war',
    'action|crime|drama',
    'action|sci-fi',
    'action|comedy',
    'comedy|fantasy|romance',
    'adventure|children|comedy',
    'action|comedy|crime|thriller',
    'action|adventure|thriller',
    'crime|drama|film-noir|mystery|thriller',
    'musical',
    'fantasy|sci-fi',
    'action|comedy|sci-fi',
    'drama|musical',
    'action|adventure|comedy|war',
    'animation|drama',
    'mystery|thriller',
    'animation|children|comedy',
    'action|adventure|drama|fantasy',
    'action|horror|sci-fi',
    'drama|horror|thriller',
    'comedy|fantasy',
    'adventure|animation|children|comedy',
    'children|comedy|mystery',
    'drama|mystery',
    'adventure|animation|children|drama|musical',
    'comedy|romance|sci-fi',
    'action|drama',
    'comedy|western',
    'comedy|horror|thriller',
    'comedy|crime|mystery',
    'adventure|western',
    'action|drama|war',
    'action|comedy|drama',
    'action|adventure|fantasy|horror',
    'drama|romance|western',
    'action|adventure|crime|sci-fi|thriller',
    'action|comedy|crime',
    'action|horror',
    'horror|romance',
    'action|comedy|crime|drama|sci-fi',
    'action|adventure|drama|thriller',
    'sci-fi|thriller',
    'action|horror|thriller',
    'animation|children|fantasy',
    'adventure|animation|children',
    'action|adventure|thriller|war',
    'fantasy',
    'drama|mystery|romance|thriller',
    'action|children|comedy',
    'drama|mystery|western',
    'comedy|horror',
    'drama|romance|war',
    'crime|drama|film-noir',
    'action|drama|thriller',
    'crime|drama|sci-fi|thriller',
    'action|crime|thriller',
    'drama|fantasy|musical',
    'crime',
    'children|comedy|romance',
    'comedy|crime',
    'action|thriller|war',
    'drama|western',
    'thriller',
    'adventure|animation|children|comedy|fantasy',
    'action|adventure|fantasy',
    'animation|fantasy',
    'action|adventure|drama',
    'comedy|musical|sci-fi',
    'adventure|comedy|romance|war',
    'western',
    'comedy|mystery|romance',
    'horror|thriller',
    'action',
    'action|drama|thriller|war',
    'action|comedy|romance|war',
    'comedy|crime|romance',
    'action|sci-fi|thriller|western',
    'crime|film-noir|thriller',
    'action|adventure|sci-fi',
    'horror|mystery|thriller',
    'adventure|drama|romance',
    'animation|children',
    'animation|comedy|musical',
    'drama|fantasy',
    'action|comedy|fantasy|horror',
    'comedy|mystery',
    'drama|thriller|war',
    'animation|children|musical|imax',
    'adventure|fantasy',
    'action|horror|sci-fi|thriller',
    'sci-fi',
    'adventure|romance',
    'comedy|crime|thriller',
    'crime|drama|mystery|thriller',
    'comedy|musical',
    'crime|thriller',
    'comedy|drama|fantasy',
    'action|crime',
    'children|comedy|fantasy|horror',
    'action|adventure|children|comedy',
    'adventure|drama|sci-fi',
    'action|adventure|drama|war',
    'action|animation|children|crime',
    'action|adventure|comedy|romance|thriller',
    'action|children|fantasy',
    'animation|children|comedy|musical|romance',
    'children|drama',
    'adventure|animation|children|drama|fantasy',
    'action|adventure|sci-fi|thriller',
    'action|adventure|comedy|romance',
    'comedy|musical|romance',
    'fantasy|horror|mystery|romance',
    'comedy|fantasy|horror|thriller',
    'drama|film-noir',
    'action|adventure|romance',
    'action|sci-fi|thriller',
    'animation|comedy|fantasy',
    'action|drama|horror|thriller',
    'action|crime|drama|war',
    'adventure|children|comedy|musical',
    'action|thriller|western',
    'adventure|children|musical',
    'crime|horror|thriller',
    'action|comedy|crime|drama|thriller',
    'crime|mystery|thriller',
    'action|animation|children|fantasy',
    'action|comedy|horror|sci-fi',
    'drama|sci-fi|thriller',
    'adventure|comedy|fantasy',
    'action|adventure|animation|fantasy',
    'crime|film-noir',
    'action|comedy|romance',
    'drama|mystery|thriller',
    'comedy|horror|sci-fi|thriller',
    'comedy|horror|mystery|thriller',
    'adventure|animation|children|drama|musical|imax',
    'children|comedy|sci-fi',
    'action|comedy|romance|thriller',
    'crime|horror|mystery|thriller',
    'drama|sci-fi',
    'children|fantasy|musical',
    'drama|horror|sci-fi',
    'film-noir|mystery',
    'adventure|comedy|western',
    'comedy|crime|drama',
    'action|crime|drama|mystery|sci-fi|thriller',
    'adventure|animation|children|drama',
    'film-noir|horror|mystery|thriller',
    'animation|children|fantasy|musical',
    'action|comedy|thriller',
    'comedy|crime|drama|mystery|thriller',
    'adventure|animation|children|musical|romance',
    'adventure|drama',
    'romance',
    'action|crime|drama|mystery|thriller',
    'drama|mystery|romance',
    'horror|mystery|sci-fi|thriller',
    'adventure|animation|children|comedy|drama|musical|romance',
    'comedy|drama|musical|romance',
    'adventure|comedy|drama|fantasy|mystery|sci-fi|thriller',
    'action|crime|sci-fi|thriller',
    'action|drama|romance|war',
    'drama|fantasy|romance',
    'documentary|war',
    'adventure|children|drama',
    'drama|fantasy|mystery|romance',
    'action|comedy|crime|fantasy',
    'action|adventure|crime|thriller',
    'adventure|children|fantasy',
    'adventure|comedy|sci-fi',
    'drama|horror',
    'adventure|sci-fi',
    'crime|film-noir|mystery',
    'comedy|horror|sci-fi',
    'musical|western',
    'comedy|crime|drama|musical',
    'children|comedy|western',
    'action|mystery|thriller',
    'action|adventure|animation|children|sci-fi',
    'action|fantasy|horror|sci-fi|thriller',
    'action|comedy|crime|drama',
    'adventure|animation|children|musical',
    'musical|romance|western',
    'crime|drama|horror',
    'action|drama|western',
    'adventure|animation|drama',
    'action|adventure|comedy|crime|drama',
    'adventure|animation|children|fantasy|musical',
    'action|crime|fantasy',
    'comedy|drama|sci-fi',
    'adventure|comedy|romance',
    'comedy|fantasy|sci-fi',
    'action|adventure|fantasy|romance',
    'adventure|drama|western',
    'comedy|crime|horror',
    'comedy|fantasy|romance|sci-fi',
    'adventure|drama|romance|thriller|war',
    'action|adventure|children|comedy|mystery',
    'drama|musical|romance',
    'crime|mystery',
    'crime|drama|romance|war',
    'crime|drama|film-noir|thriller',
    'romance|war',
    'action|crime|romance|thriller',
    'comedy|crime|drama|thriller',
    'action|adventure|comedy|drama|romance|thriller',
    'comedy|crime|musical|mystery',
    'mystery|romance|thriller',
    'action|adventure|western',
    'comedy|documentary',
    'comedy|drama|musical',
    'adventure|fantasy|romance|sci-fi|thriller',
    'action|adventure|children|comedy|fantasy',
    'animation|children|drama|fantasy',
    'adventure|children|comedy|mystery',
    'children|drama|fantasy',
    'adventure|drama|war',
    'crime|drama|musical|thriller',
    'comedy|drama|thriller',
    'action|fantasy|horror',
    'action|adventure|fantasy|sci-fi',
    'action|drama|sci-fi',
    'romance|sci-fi',
    'action|comedy|western',
    'film-noir',
    'action|drama|romance|sci-fi',
    'animation|drama|sci-fi|imax',
    'comedy|documentary|drama',
    'action|adventure|children|fantasy',
    'comedy|mystery|thriller',
    'film-noir|mystery|thriller',
    'comedy|musical|romance|western',
    'drama|romance|thriller',
    'action|adventure|comedy|sci-fi',
    'drama|fantasy|horror|thriller',
    'action|adventure|mystery|sci-fi',
    'drama|romance|war|western',
    'action|drama|romance|thriller',
    'comedy|drama|romance|war',
    'crime|film-noir|mystery|thriller',
    'action|crime|horror',
    'action|adventure|comedy|fantasy',
    'action|adventure|drama|sci-fi',
    'action|western',
    'adventure|animation|children|fantasy',
    'drama|film-noir|romance',
    'children|drama|fantasy|mystery',
    'adventure|comedy|thriller',
    'crime|drama|romance|thriller',
    'drama|mystery|sci-fi|thriller',
    'action|fantasy|horror|romance',
    'comedy|fantasy|musical',
    'drama|fantasy|musical|romance',
    'adventure|children|comedy|fantasy|mystery',
    'drama|horror|mystery|thriller',
    'comedy|crime|drama|romance',
    'action|adventure|comedy|drama|romance|war',
    'drama|fantasy|horror',
    'comedy|fantasy|thriller',
    'adventure|animation|children|drama|sci-fi',
    'animation|horror|mystery|thriller',
    'animation|musical',
    'children|drama|sci-fi',
    'animation|sci-fi',
    'adventure|comedy|crime|drama|romance',
    'documentary|musical',
    'animation|children|musical',
    'romance|thriller',
    'comedy|crime|mystery|thriller',
    'action|adventure|sci-fi|thriller|imax',
    'drama|film-noir|mystery|romance',
    'action|adventure|drama|romance|thriller',
    'crime|drama|mystery',
    'action|children',
    'fantasy|horror|sci-fi|thriller',
    'comedy|crime|drama|mystery|romance',
    'action|adventure|comedy|drama',
    'comedy|crime|drama|romance|thriller',
    'adventure|comedy|fantasy|sci-fi',
    'adventure|comedy|crime',
    'animation|drama|romance',
    'drama|fantasy|horror|mystery|thriller',
    'drama|romance|sci-fi|thriller',
    'action|children|comedy|fantasy|sci-fi',
    'drama|film-noir|mystery',
    'drama|horror|mystery|romance|thriller',
    'children|comedy|romance|sci-fi',
    'documentary|horror',
    'horror|mystery',
    'children|sci-fi',
    'fantasy|horror',
    'drama|film-noir|mystery|thriller',
    'comedy|sci-fi|thriller',
    'adventure|film-noir|sci-fi|thriller',
    'action|crime|thriller|western',
    'adventure|fantasy|romance',
    'animation|children|drama|musical',
    'adventure|animation|children|comedy|sci-fi',
    'action|adventure|children',
    'animation|children|comedy|drama|fantasy',
    'adventure|children|fantasy|musical',
    'action|adventure|drama|mystery|thriller',
    'adventure|children|sci-fi',
    'adventure|animation|comedy|fantasy|musical',
    'comedy|mystery|sci-fi',
    'action|comedy|sci-fi|thriller',
    'action|adventure|animation|children|fantasy',
    'action|crime|mystery|romance|thriller',
    'drama|romance|sci-fi',
    'children|comedy|fantasy|musical',
    'war',
    'animation|children|drama|musical|romance',
    'action|war',
    'drama|horror|mystery',
    'horror|western',
    'crime|drama|western',
    'action|adventure|comedy|crime',
    'adventure|animation|children|fantasy|imax',
    'romance|western',
    'adventure|animation|children|fantasy|musical|romance',
    'action|adventure|animation|sci-fi',
    'comedy|crime|mystery|romance',
    'action|adventure|animation|drama|fantasy',
    'action|comedy|musical',
    'adventure|children|romance',
    'action|comedy|war',
    'comedy|musical|war',
    'action|crime|drama|sci-fi|thriller',
    'adventure|drama|thriller',
    'mystery',
    'action|romance|sci-fi|thriller',
    'film-noir|romance|thriller',
    'action|comedy|drama|horror',
    'crime|fantasy|horror',
    'action|adventure|drama|romance',
    'documentary|drama',
    'comedy|horror|romance',
    'adventure|animation|children|comedy|musical|romance',
    'adventure|war|western',
    'comedy|drama|fantasy|mystery',
    'action|romance',
    'animation|fantasy|thriller',
    'comedy|romance|thriller',
    'action|comedy|documentary',
    'children|drama|musical',
    'drama|war|western',
    'action|adventure|children|comedy|fantasy|sci-fi',
    'drama|mystery|romance|sci-fi|thriller',
    'film-noir|thriller',
    'crime|horror',
    'action|adventure|war',
    'adventure|fantasy|sci-fi',
    'comedy|crime|mystery|romance|thriller',
    'children|comedy|musical',
    'action|children|romance',
    'action|adventure|animation|children|comedy',
    'action|animation|crime|drama|film-noir|mystery|sci-fi|thriller',
    'drama|mystery|sci-fi',
    'crime|drama|film-noir|romance',
    'adventure|children|fantasy|sci-fi',
    'adventure|animation|drama|fantasy|sci-fi',
    'adventure|comedy|drama',
    'action|comedy|crime|drama|horror|thriller',
    'animation|comedy',
    'comedy|drama|romance|thriller',
    'action|adventure|animation|horror|sci-fi',
    'action|romance|war|western',
    'action|crime|fantasy|sci-fi|thriller',
    'action|crime|sci-fi',
    'action|adventure|drama|thriller|western',
    'crime|romance|thriller',
    'action|drama|horror',
    'action|documentary|drama|thriller',
    'action|comedy|horror',
    'adventure|animation|fantasy',
    'children|fantasy',
    'action|adventure|fantasy|thriller',
    'documentary|imax',
    'adventure|children|comedy|drama',
    'adventure|comedy|horror',
    'children|musical',
    'adventure|animation|comedy',
    'action|sci-fi|war',
    'adventure|animation|children|musical|western',
    'action|animation',
    'action|adventure|comedy|thriller',
    'action|adventure|children|crime|mystery|thriller',
    'adventure|drama|fantasy',
    'comedy|musical|western',
    'drama|fantasy|sci-fi',
    'drama|fantasy|horror|mystery|sci-fi|thriller',
    'comedy|crime|drama|fantasy',
    'adventure|drama|mystery|thriller',
    'comedy|drama|fantasy|romance|thriller',
    'adventure|animation|children|comedy|crime|fantasy|mystery',
    'comedy|fantasy|horror|musical|thriller',
    'children|comedy|drama',
    'fantasy|romance',
    'adventure|animation|children|fantasy|sci-fi',
    'action|mystery|sci-fi',
    'action|adventure|comedy|fantasy|mystery',
    'drama|horror|sci-fi|thriller',
    'adventure|drama|horror|sci-fi|thriller',
    'action|adventure|fantasy|mystery',
    'action|animation|crime|sci-fi|thriller',
    'animation|children|comedy|romance',
    'action|adventure|sci-fi|imax',
    'drama|horror|romance|thriller',
    'comedy|documentary|musical',
    'animation|children|drama|fantasy|musical',
    'children|drama|fantasy|romance',
    'animation|children|fantasy|musical|romance|imax',
    'horror|mystery|sci-fi',
    'action|adventure|comedy|western',
    'drama|film-noir|thriller',
    'action|adventure|drama|fantasy|thriller',
    'adventure|drama|mystery',
    'crime|documentary',
    'drama|fantasy|horror|thriller|war',
    'children',
    'drama|fantasy|mystery|romance|thriller',
    'action|adventure|animation|comedy|crime|mystery',
    'animation|fantasy|mystery',
    'comedy|drama|mystery',
    'action|adventure|comedy|fantasy|horror',
    'adventure|comedy|sci-fi|western',
    'action|adventure|romance|thriller',
    'adventure|drama|romance|war',
    'crime|documentary|war',
    'action|animation|children|comedy',
    'children|comedy|crime|musical',
    'mystery|sci-fi|thriller',
    'action|drama|horror|sci-fi|thriller',
    'fantasy|mystery|thriller',
    'children|horror|mystery|thriller',
    'adventure|thriller|western',
    'adventure|comedy|crime|romance',
    'fantasy|horror|thriller',
    'animation|children|drama',
    'animation|comedy|fantasy|musical',
    'adventure|comedy|horror|romance',
    'adventure|animation|comedy|crime',
    'adventure|children|comedy|fantasy',
    'action|comedy|sci-fi|western',
    'fantasy|horror|romance|thriller',
    'adventure|drama|horror|mystery|thriller',
    'adventure|documentary',
    'adventure|animation|children|sci-fi',
    'action|adventure|animation|comedy',
    'adventure|animation|children|western',
    'children|comedy|fantasy|romance',
    'comedy|crime|romance|thriller',
    'adventure|comedy|crime|thriller',
    'comedy|drama|mystery|thriller',
    'comedy|drama|mystery|romance',
    'crime|drama|fantasy|thriller',
    'adventure|comedy|mystery|romance',
    'animation|fantasy|horror|sci-fi',
    'fantasy|western',
    'drama|fantasy|thriller',
    'action|fantasy|horror|mystery|thriller',
    'comedy|drama|sci-fi|war',
    'action|comedy|crime|fantasy|thriller',
    'adventure|horror|sci-fi',
    'animation|children|comedy|musical',
    'drama|fantasy|romance|sci-fi',
    'action|adventure|children|drama',
    'drama|fantasy|mystery|sci-fi',
    'adventure|animation|children|comedy|fantasy|romance',
    'action|drama|thriller|western',
    'adventure|fantasy|musical',
    'action|horror|mystery|sci-fi',
    'children|comedy|fantasy|sci-fi',
    'action|adventure|horror|sci-fi',
    'crime|drama|mystery|thriller|war',
    'action|drama|romance',
    'animation|comedy|drama|fantasy|sci-fi',
    'crime|musical',
    'action|adventure|animation|children|comedy|fantasy',
    'adventure|drama|imax',
    'adventure|drama|fantasy|horror|sci-fi',
    'action|comedy|horror|thriller',
    'adventure|children|comedy|fantasy|romance',
    'adventure|war',
    'comedy|horror|romance|thriller',
    'adventure|drama|fantasy|mystery|sci-fi',
    'adventure|documentary|imax',
    'action|fantasy',
    'action|adventure|children|comedy|crime',
    'action|adventure|crime|drama|romance|thriller',
    'crime|drama|horror|mystery|thriller',
    'children|comedy|musical|romance',
    'animation|comedy|drama|fantasy',
    'action|crime|mystery|sci-fi|thriller',
    'comedy|drama|fantasy|sci-fi',
    'adventure|drama|romance|sci-fi',
    'action|adventure|animation|children|fantasy|sci-fi',
    'action|adventure|comedy|drama|war',
    'action|romance|thriller',
    'action|crime|drama|horror|thriller',
    'comedy|war|western',
    'action|crime|mystery|thriller',
    'adventure|comedy|war',
    'action|adventure|comedy|fantasy|horror|thriller',
    'adventure|animation|children|sci-fi|imax',
    'drama|romance|thriller|war',
    'animation|comedy|war',
    'animation|children|fantasy|war',
    'adventure|comedy|fantasy|musical',
    'drama|fantasy|mystery',
    'action|adventure|drama|western',
    'action|adventure|drama|fantasy|romance',
    'adventure|children|comedy|fantasy|musical',
    'adventure|crime|drama',
    'action|romance|western',
    'action|adventure|comedy|crime|thriller',
    'adventure|animation|children|crime|drama',
    'adventure|comedy|crime|mystery',
    'action|animation|comedy|crime|drama|romance|thriller',
    'comedy|fantasy|horror',
    'crime|mystery|romance|thriller',
    'adventure|animation|fantasy|sci-fi','fantasy|musical|romance']
    
    enc_genre = list_genre.index(genres.lower())

    data = [[enc_genre, rating]]

    rekomendasi = model.predict(data)

    return render_template('tampil.html',Hasil = rekomendasi, Genres = genres, Rating = rating)

if __name__ == '__main__':
    app.run(debug=True)